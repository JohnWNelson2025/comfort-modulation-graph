<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Comfort Modulation Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
  <style>
    body.light-mode {
      background-color: #f4f4f4;
      color: #000;
    }

    body.dark-mode {
      background-color: #121212;
      color: #fff;
    }

    canvas {
      background-color: transparent;
      max-width: 100%;
    }

    #themeToggle {
      margin: 20px 0;
      padding: 10px 20px;
      font-size: 14px;
      cursor: pointer;
      border-radius: 6px;
      border: none;
      background-color: #2196F3;
      color: white;
    }

    .description {
      margin-top: 30px;
      font-family: sans-serif;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 10px;
    }

    th, td {
      padding: 10px;
      border: 1px solid #ccc;
    }

    th {
      background-color: #ddd;
    }
  </style>
</head>
<body class="light-mode">
  <div style="text-align: center;">
    <button id="themeToggle">Toggle Theme</button>
    <canvas id="comfortChart" width="800" height="600"></canvas>
  </div>

  <div class="description">
    <h3>Quadrant Interpretations</h3>
    <table>
      <thead>
        <tr>
          <th>Quadrant</th>
          <th>Behavioral Role</th>
          <th>Example Tokens</th>
          <th>Statistical Weight (β)</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Top Left</td>
          <td>Disruptive Internal Predictors</td>
          <td>Worry, Helplessness</td>
          <td>−0.6</td>
        </tr>
        <tr>
          <td>Top Right</td>
          <td>Supportive External Predictors</td>
          <td>Trust, Environmental Support</td>
          <td>+0.7</td>
        </tr>
        <tr>
          <td>Bottom Left</td>
          <td>Subtle Modulators</td>
          <td>Attention, Emotion</td>
          <td>Contextual</td>
        </tr>
        <tr>
          <td>Bottom Right</td>
          <td>Positive Outcomes</td>
          <td>Relief, Improved Experience</td>
          <td>Derived</td>
        </tr>
        <tr>
          <td>Center</td>
          <td>Core Concept</td>
          <td>Comfort Theory</td>
          <td>Anchor</td>
        </tr>
      </tbody>
    </table>
  </div>

  <script>
    const ctx = document.getElementById('comfortChart').getContext('2d');
    const comfortChart = new Chart(ctx, {
      type: 'bubble',
      data: {
        datasets: [
          {
            label: 'Disruptive Predictors',
            data: [{ x: -6, y: 6, r: 10 }],
            backgroundColor: 'rgba(255, 99, 132, 0.6)',
            datalabels: { align: 'center', color: '#fff', font: { weight: 'bold' } }
          },
          {
            label: 'Supportive Predictors',
            data: [{ x: 6, y: 6, r: 10 }],
            backgroundColor: 'rgba(75, 192, 192, 0.6)',
            datalabels: { align: 'center', color: '#fff', font: { weight: 'bold' } }
          },
          {
            label: 'Modulators',
            data: [{ x: -6, y: -6, r: 10 }],
            backgroundColor: 'rgba(255, 206, 86, 0.6)',
            datalabels: { align: 'center', color: '#000', font: { weight: 'bold' } }
          },
          {
            label: 'Outcomes',
            data: [{ x: 6, y: -6, r: 10 }],
            backgroundColor: 'rgba(153, 102, 255, 0.6)',
            datalabels: { align: 'center', color: '#fff', font: { weight: 'bold' } }
          },
          {
            label: 'Comfort Theory',
            data: [{ x: 0, y: 0, r: 12 }],
            backgroundColor: 'rgba(0, 0, 0, 0.8)',
            datalabels: { align: 'center', color: '#fff', font: { weight: 'bold' } }
          }
        ]
      },
      options: {
        plugins: {
          datalabels: {
            formatter: (value, ctx) => ctx.dataset.label,
          },
          legend: {
            position: 'bottom',
            labels: {
              color: 'inherit',
              font: { size: 12 }
            }
          }
        },
        scales: {
          x: {
            title: { display: true, text: 'Predictor Type', color: 'inherit' },
            ticks: { color: 'inherit' },
            grid: { color: 'rgba(200,200,200,0.2)' }
          },
          y: {
            title: { display: true, text: 'Comfort Influence', color: 'inherit' },
            ticks: { color: 'inherit' },
            grid: { color: 'rgba(200,200,200,0.2)' }
          }
        }
      },
      plugins: [ChartDataLabels]
    });

    const toggleButton = document.getElementById('themeToggle');
    toggleButton.addEventListener('click', () => {
      document.body.classList.toggle('light-mode');
      document.body.classList.toggle('dark-mode');
    });
  </script>
</body>
</html>
